#ifndef __CONFIG_H
#define __CONFIG_H

#include "logic.h"
#include "stdio.h"
#include "stm32f10x.h"
#include "modbus.h"
#include "timer.h"
#include "usart.h"


//定义全局变量
float AportIn[12];
float AportOut[8];
u8 DigitalIn;
u8 DigitalOut[8];

//modbus 相关变量
uint8_t TimerOverFlag=0;
uint8_t BegainRxFlag=0;
uint8_t BusyFlag=0;
u16  ReadReg[100]={0};
u16  WriteReg[100]={0};


//小板通信定义相关量
unsigned int  ReceivedNum = 0;
char TSReceivedBuffer[24];
char TSReadPortsBuffer[18];
char TSSendBuffer[22]={0};
char TSwriteRegister[12]={0};
char TSSentCheckCode=0;         //待发送数据的效验码
char  SentBuffer[200];
u8 TSControl=0; 

volatile TSTASKSEL TSTaskSel = TSNON;

u8 tx1[24]={0x55,0x66,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x66,0x55};
u8 tx2[24]={0x55,0x66,0x02,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00,0x10,0x66,0x55};
u8 tx3[24]={0x55,0x66,0x03,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00,0x10,0x66,0x55};
u8 tx4[24]={0x55,0x66,0x04,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00,0x10,0x66,0x55};


//小板数据
float CO2=0.0;
float CO2Sv=0.0;
float RoomTemp=0.0;
float RoomTempSv=0.0;
float RoomHum=0.0;
	
void RCC_Configuration(void);
void NVIC_Configuration(void);

#endif

